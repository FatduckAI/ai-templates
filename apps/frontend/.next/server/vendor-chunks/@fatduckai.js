"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@fatduckai";
exports.ids = ["vendor-chunks/@fatduckai"];
exports.modules = {

/***/ "(ssr)/../../node_modules/@fatduckai/ai/dist/index.js":
/*!******************************************************!*\
  !*** ../../node_modules/@fatduckai/ai/dist/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PromptBuilder: () => (/* binding */ PromptBuilder)\n/* harmony export */ });\n// src/linter.ts\nclass Linter {\n  context;\n  allowEmptyContent;\n  constructor(context = {}, allowEmptyContent = false) {\n    this.context = context;\n    this.allowEmptyContent = allowEmptyContent;\n  }\n  lint(template) {\n    const results = [];\n    const hasSystemPrompt = template.blocks.some((block) => block.type === \"system\");\n    if (!hasSystemPrompt) {\n      results.push({\n        message: \"Template should start with a system prompt\",\n        severity: \"warning\",\n        line: 1,\n        column: 1\n      });\n    }\n    template.variables.forEach((variable) => {\n      if (!(variable in this.context)) {\n        results.push({\n          message: `Required variable not provided: ${variable}`,\n          severity: \"error\",\n          line: this.findVariableLocation(variable, template.raw),\n          column: 1\n        });\n      } else if (!this.allowEmptyContent) {\n        const value = this.context[variable];\n        if (value === undefined || value === null || value.toString().trim() === \"\") {\n          results.push({\n            message: `Empty content not allowed for variable: ${variable}`,\n            severity: \"error\",\n            line: this.findVariableLocation(variable, template.raw),\n            column: 1\n          });\n        }\n      }\n    });\n    return results;\n  }\n  findVariableLocation(variable, content) {\n    const match = new RegExp(`<${variable}>`, \"g\").exec(content);\n    if (!match)\n      return 1;\n    return (content.slice(0, match.index).match(/\\n/g) || []).length + 1;\n  }\n}\n\n// src/parser.ts\nclass Parser {\n  static parse(template) {\n    if (typeof template !== \"string\") {\n      throw new Error(\"Template must be a string\");\n    }\n    const blocks = [];\n    const variables = new Set;\n    const variableRegex = /<([^>]+)>/g;\n    const systemTags = new Set([\n      \"system\",\n      \"user\",\n      \"assistant\",\n      \"/system\",\n      \"/user\",\n      \"/assistant\"\n    ]);\n    const blockRegex = /<(system|user|assistant)(?:\\s+name=\"([^\"]*)\")?>([^]*?)<\\/\\1>/g;\n    let match;\n    while ((match = blockRegex.exec(template)) !== null) {\n      const [fullMatch, role, name, content] = match;\n      let varMatch;\n      while ((varMatch = variableRegex.exec(content)) !== null) {\n        const varName = varMatch[1];\n        if (!systemTags.has(varName)) {\n          variables.add(varName);\n        }\n      }\n      blocks.push({\n        type: role,\n        content: content.trim(),\n        name,\n        range: {\n          start: match.index,\n          end: match.index + fullMatch.length\n        }\n      });\n    }\n    return {\n      blocks,\n      variables: Array.from(variables),\n      raw: template\n    };\n  }\n}\n\n// src/builder.ts\nclass PromptBuilder {\n  template;\n  context = {};\n  linter;\n  options;\n  constructor(template, options = {}) {\n    this.template = template;\n    this.linter = new Linter;\n    this.options = {\n      validateOnBuild: true,\n      throwOnWarnings: false,\n      allowEmptyContent: false,\n      ...options\n    };\n  }\n  withContext(context) {\n    if (!this.options.allowEmptyContent) {\n      Object.entries(context).forEach(([key, value]) => {\n        if (value === undefined || value === null || value.toString().trim() === \"\") {\n          throw new Error(`Empty content not allowed for \"${key}\". Set allowEmptyContent to true to allow empty, null, or undefined values.`);\n        }\n      });\n    }\n    this.context = { ...this.context, ...context };\n    this.linter = new Linter(this.context, this.options.allowEmptyContent);\n    return this;\n  }\n  validate() {\n    try {\n      const parsed = Parser.parse(this.template);\n      const lintResults = this.linter.lint(parsed);\n      return {\n        isValid: !lintResults.some((r) => r.severity === \"error\"),\n        errors: lintResults.filter((r) => r.severity === \"error\").map((e) => `Line ${e.line}: ${e.message}`),\n        warnings: lintResults.filter((r) => r.severity === \"warning\").map((w) => `Line ${w.line}: ${w.message}`),\n        info: lintResults.filter((r) => r.severity === \"info\").map((i) => `Line ${i.line}: ${i.message}`)\n      };\n    } catch (error) {\n      return {\n        isValid: false,\n        errors: [error instanceof Error ? error.message : String(error)],\n        warnings: [],\n        info: []\n      };\n    }\n  }\n  build() {\n    try {\n      if (this.options.validateOnBuild) {\n        const validation = this.validate();\n        if (!validation.isValid) {\n          throw new Error(`Template validation failed:\\n${validation.errors.join(\"\\n\")}`);\n        }\n        if (this.options.throwOnWarnings && validation.warnings.length > 0) {\n          throw new Error(`Template has warnings:\\n${validation.warnings.join(\"\\n\")}`);\n        }\n      }\n      const parsed = Parser.parse(this.template);\n      return parsed.blocks.filter((block) => block.type === \"system\" || block.type === \"user\" || block.type === \"assistant\").map((block) => {\n        let content = block.content;\n        Object.entries(this.context).forEach(([key, value]) => {\n          const regex = new RegExp(`<${key}>`, \"g\");\n          const replacement = value === undefined || value === null ? \"\" : String(value);\n          content = content.replace(regex, replacement);\n        });\n        if (!content.trim() && !this.options.allowEmptyContent) {\n          throw new Error(`Empty content in ${block.type} block after variable replacement`);\n        }\n        const message = {\n          role: block.type,\n          content: content.trim()\n        };\n        if (block.name) {\n          message.name = block.name;\n        }\n        return message;\n      });\n    } catch (error) {\n      throw new Error(`Failed to build prompt: ${error instanceof Error ? error.message : String(error)}`);\n    }\n  }\n}\n\n\n//# debugId=440FA038CE44DDAB64756E2164756E21\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL0BmYXRkdWNrYWkvYWkvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELFNBQVM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsU0FBUztBQUN6RTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsU0FBUztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0EsT0FBTztBQUNQO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixPQUFPLElBQUksVUFBVTtBQUMxRyx5RkFBeUYsT0FBTyxJQUFJLFVBQVU7QUFDOUcsa0ZBQWtGLE9BQU8sSUFBSSxVQUFVO0FBQ3ZHO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDZCQUE2QjtBQUN2RjtBQUNBO0FBQ0EscURBQXFELCtCQUErQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsSUFBSTtBQUMzQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixpREFBaUQsdURBQXVEO0FBQ3hHO0FBQ0E7QUFDQTtBQUdFOztBQUVGIiwic291cmNlcyI6WyIvaG9tZS9nbHUvUHJvamVjdHMvU0tVTksvYWktdGVtcGxhdGVzL2FpLXRlbXBsYXRlcy9ub2RlX21vZHVsZXMvQGZhdGR1Y2thaS9haS9kaXN0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saW50ZXIudHNcbmNsYXNzIExpbnRlciB7XG4gIGNvbnRleHQ7XG4gIGFsbG93RW1wdHlDb250ZW50O1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0ID0ge30sIGFsbG93RW1wdHlDb250ZW50ID0gZmFsc2UpIHtcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIHRoaXMuYWxsb3dFbXB0eUNvbnRlbnQgPSBhbGxvd0VtcHR5Q29udGVudDtcbiAgfVxuICBsaW50KHRlbXBsYXRlKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGNvbnN0IGhhc1N5c3RlbVByb21wdCA9IHRlbXBsYXRlLmJsb2Nrcy5zb21lKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gXCJzeXN0ZW1cIik7XG4gICAgaWYgKCFoYXNTeXN0ZW1Qcm9tcHQpIHtcbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiVGVtcGxhdGUgc2hvdWxkIHN0YXJ0IHdpdGggYSBzeXN0ZW0gcHJvbXB0XCIsXG4gICAgICAgIHNldmVyaXR5OiBcIndhcm5pbmdcIixcbiAgICAgICAgbGluZTogMSxcbiAgICAgICAgY29sdW1uOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGVtcGxhdGUudmFyaWFibGVzLmZvckVhY2goKHZhcmlhYmxlKSA9PiB7XG4gICAgICBpZiAoISh2YXJpYWJsZSBpbiB0aGlzLmNvbnRleHQpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgbWVzc2FnZTogYFJlcXVpcmVkIHZhcmlhYmxlIG5vdCBwcm92aWRlZDogJHt2YXJpYWJsZX1gLFxuICAgICAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICAgICAgbGluZTogdGhpcy5maW5kVmFyaWFibGVMb2NhdGlvbih2YXJpYWJsZSwgdGVtcGxhdGUucmF3KSxcbiAgICAgICAgICBjb2x1bW46IDFcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmFsbG93RW1wdHlDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb250ZXh0W3ZhcmlhYmxlXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUudG9TdHJpbmcoKS50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgbWVzc2FnZTogYEVtcHR5IGNvbnRlbnQgbm90IGFsbG93ZWQgZm9yIHZhcmlhYmxlOiAke3ZhcmlhYmxlfWAsXG4gICAgICAgICAgICBzZXZlcml0eTogXCJlcnJvclwiLFxuICAgICAgICAgICAgbGluZTogdGhpcy5maW5kVmFyaWFibGVMb2NhdGlvbih2YXJpYWJsZSwgdGVtcGxhdGUucmF3KSxcbiAgICAgICAgICAgIGNvbHVtbjogMVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbiAgZmluZFZhcmlhYmxlTG9jYXRpb24odmFyaWFibGUsIGNvbnRlbnQpIHtcbiAgICBjb25zdCBtYXRjaCA9IG5ldyBSZWdFeHAoYDwke3ZhcmlhYmxlfT5gLCBcImdcIikuZXhlYyhjb250ZW50KTtcbiAgICBpZiAoIW1hdGNoKVxuICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIChjb250ZW50LnNsaWNlKDAsIG1hdGNoLmluZGV4KS5tYXRjaCgvXFxuL2cpIHx8IFtdKS5sZW5ndGggKyAxO1xuICB9XG59XG5cbi8vIHNyYy9wYXJzZXIudHNcbmNsYXNzIFBhcnNlciB7XG4gIHN0YXRpYyBwYXJzZSh0ZW1wbGF0ZSkge1xuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRlbXBsYXRlIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgfVxuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGNvbnN0IHZhcmlhYmxlcyA9IG5ldyBTZXQ7XG4gICAgY29uc3QgdmFyaWFibGVSZWdleCA9IC88KFtePl0rKT4vZztcbiAgICBjb25zdCBzeXN0ZW1UYWdzID0gbmV3IFNldChbXG4gICAgICBcInN5c3RlbVwiLFxuICAgICAgXCJ1c2VyXCIsXG4gICAgICBcImFzc2lzdGFudFwiLFxuICAgICAgXCIvc3lzdGVtXCIsXG4gICAgICBcIi91c2VyXCIsXG4gICAgICBcIi9hc3Npc3RhbnRcIlxuICAgIF0pO1xuICAgIGNvbnN0IGJsb2NrUmVnZXggPSAvPChzeXN0ZW18dXNlcnxhc3Npc3RhbnQpKD86XFxzK25hbWU9XCIoW15cIl0qKVwiKT8+KFteXSo/KTxcXC9cXDE+L2c7XG4gICAgbGV0IG1hdGNoO1xuICAgIHdoaWxlICgobWF0Y2ggPSBibG9ja1JlZ2V4LmV4ZWModGVtcGxhdGUpKSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgW2Z1bGxNYXRjaCwgcm9sZSwgbmFtZSwgY29udGVudF0gPSBtYXRjaDtcbiAgICAgIGxldCB2YXJNYXRjaDtcbiAgICAgIHdoaWxlICgodmFyTWF0Y2ggPSB2YXJpYWJsZVJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHZhck5hbWUgPSB2YXJNYXRjaFsxXTtcbiAgICAgICAgaWYgKCFzeXN0ZW1UYWdzLmhhcyh2YXJOYW1lKSkge1xuICAgICAgICAgIHZhcmlhYmxlcy5hZGQodmFyTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJsb2Nrcy5wdXNoKHtcbiAgICAgICAgdHlwZTogcm9sZSxcbiAgICAgICAgY29udGVudDogY29udGVudC50cmltKCksXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgc3RhcnQ6IG1hdGNoLmluZGV4LFxuICAgICAgICAgIGVuZDogbWF0Y2guaW5kZXggKyBmdWxsTWF0Y2gubGVuZ3RoXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgYmxvY2tzLFxuICAgICAgdmFyaWFibGVzOiBBcnJheS5mcm9tKHZhcmlhYmxlcyksXG4gICAgICByYXc6IHRlbXBsYXRlXG4gICAgfTtcbiAgfVxufVxuXG4vLyBzcmMvYnVpbGRlci50c1xuY2xhc3MgUHJvbXB0QnVpbGRlciB7XG4gIHRlbXBsYXRlO1xuICBjb250ZXh0ID0ge307XG4gIGxpbnRlcjtcbiAgb3B0aW9ucztcbiAgY29uc3RydWN0b3IodGVtcGxhdGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICB0aGlzLmxpbnRlciA9IG5ldyBMaW50ZXI7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdmFsaWRhdGVPbkJ1aWxkOiB0cnVlLFxuICAgICAgdGhyb3dPbldhcm5pbmdzOiBmYWxzZSxcbiAgICAgIGFsbG93RW1wdHlDb250ZW50OiBmYWxzZSxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICB9XG4gIHdpdGhDb250ZXh0KGNvbnRleHQpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0VtcHR5Q29udGVudCkge1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29udGV4dCkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlLnRvU3RyaW5nKCkudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbXB0eSBjb250ZW50IG5vdCBhbGxvd2VkIGZvciBcIiR7a2V5fVwiLiBTZXQgYWxsb3dFbXB0eUNvbnRlbnQgdG8gdHJ1ZSB0byBhbGxvdyBlbXB0eSwgbnVsbCwgb3IgdW5kZWZpbmVkIHZhbHVlcy5gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuY29udGV4dCA9IHsgLi4udGhpcy5jb250ZXh0LCAuLi5jb250ZXh0IH07XG4gICAgdGhpcy5saW50ZXIgPSBuZXcgTGludGVyKHRoaXMuY29udGV4dCwgdGhpcy5vcHRpb25zLmFsbG93RW1wdHlDb250ZW50KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YWxpZGF0ZSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkID0gUGFyc2VyLnBhcnNlKHRoaXMudGVtcGxhdGUpO1xuICAgICAgY29uc3QgbGludFJlc3VsdHMgPSB0aGlzLmxpbnRlci5saW50KHBhcnNlZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1ZhbGlkOiAhbGludFJlc3VsdHMuc29tZSgocikgPT4gci5zZXZlcml0eSA9PT0gXCJlcnJvclwiKSxcbiAgICAgICAgZXJyb3JzOiBsaW50UmVzdWx0cy5maWx0ZXIoKHIpID0+IHIuc2V2ZXJpdHkgPT09IFwiZXJyb3JcIikubWFwKChlKSA9PiBgTGluZSAke2UubGluZX06ICR7ZS5tZXNzYWdlfWApLFxuICAgICAgICB3YXJuaW5nczogbGludFJlc3VsdHMuZmlsdGVyKChyKSA9PiByLnNldmVyaXR5ID09PSBcIndhcm5pbmdcIikubWFwKCh3KSA9PiBgTGluZSAke3cubGluZX06ICR7dy5tZXNzYWdlfWApLFxuICAgICAgICBpbmZvOiBsaW50UmVzdWx0cy5maWx0ZXIoKHIpID0+IHIuc2V2ZXJpdHkgPT09IFwiaW5mb1wiKS5tYXAoKGkpID0+IGBMaW5lICR7aS5saW5lfTogJHtpLm1lc3NhZ2V9YClcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICBlcnJvcnM6IFtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcildLFxuICAgICAgICB3YXJuaW5nczogW10sXG4gICAgICAgIGluZm86IFtdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBidWlsZCgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy52YWxpZGF0ZU9uQnVpbGQpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRlbXBsYXRlIHZhbGlkYXRpb24gZmFpbGVkOlxcbiR7dmFsaWRhdGlvbi5lcnJvcnMuam9pbihcIlxcblwiKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRocm93T25XYXJuaW5ncyAmJiB2YWxpZGF0aW9uLndhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRlbXBsYXRlIGhhcyB3YXJuaW5nczpcXG4ke3ZhbGlkYXRpb24ud2FybmluZ3Muam9pbihcIlxcblwiKX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcGFyc2VkID0gUGFyc2VyLnBhcnNlKHRoaXMudGVtcGxhdGUpO1xuICAgICAgcmV0dXJuIHBhcnNlZC5ibG9ja3MuZmlsdGVyKChibG9jaykgPT4gYmxvY2sudHlwZSA9PT0gXCJzeXN0ZW1cIiB8fCBibG9jay50eXBlID09PSBcInVzZXJcIiB8fCBibG9jay50eXBlID09PSBcImFzc2lzdGFudFwiKS5tYXAoKGJsb2NrKSA9PiB7XG4gICAgICAgIGxldCBjb250ZW50ID0gYmxvY2suY29udGVudDtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5jb250ZXh0KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYDwke2tleX0+YCwgXCJnXCIpO1xuICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCA/IFwiXCIgOiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UocmVnZXgsIHJlcGxhY2VtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghY29udGVudC50cmltKCkgJiYgIXRoaXMub3B0aW9ucy5hbGxvd0VtcHR5Q29udGVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRW1wdHkgY29udGVudCBpbiAke2Jsb2NrLnR5cGV9IGJsb2NrIGFmdGVyIHZhcmlhYmxlIHJlcGxhY2VtZW50YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgICByb2xlOiBibG9jay50eXBlLFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQudHJpbSgpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChibG9jay5uYW1lKSB7XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gYmxvY2submFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBidWlsZCBwcm9tcHQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IHtcbiAgUHJvbXB0QnVpbGRlclxufTtcblxuLy8jIGRlYnVnSWQ9NDQwRkEwMzhDRTQ0RERBQjY0NzU2RTIxNjQ3NTZFMjFcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/@fatduckai/ai/dist/index.js\n");

/***/ })

};
;